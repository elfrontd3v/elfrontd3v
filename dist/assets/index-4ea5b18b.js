import{r,V as rt,u as Oe,U as qe,Q as ze,aC as at,t as L,v as g,_ as ge,L as it,z as Fe,aD as ut,E as ue,H as He,aE as ye,aF as ot,K as ve,W as lt,Y as st,X as ct,$ as ft,Z as dt,aA as $e,ak as Ae,al as Be,aG as vt}from"./index-13de64b0.js";import{g as Ie,a as mt}from"./statusUtils-7353cd91.js";var gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const pt=gt;var Le=function(n,t){return r.createElement(rt,Oe(Oe({},n),{},{ref:t,icon:pt}))};Le.displayName="UpOutlined";const St=r.forwardRef(Le);function Ee(){return typeof BigInt=="function"}function K(e){var n=e.trim(),t=n.startsWith("-");t&&(n=n.slice(1)),n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),n.startsWith(".")&&(n="0".concat(n));var a=n||"0",i=a.split("."),c=i[0]||"0",p=i[1]||"0";c==="0"&&p==="0"&&(t=!1);var d=t?"-":"";return{negative:t,negativeStr:d,trimStr:a,integerStr:c,decimalStr:p,fullStr:"".concat(d).concat(a)}}function we(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function oe(e){var n=String(e);if(we(e)){var t=Number(n.slice(n.indexOf("e-")+2)),a=n.match(/\.(\d+)/);return a!=null&&a[1]&&(t+=a[1].length),t}return n.includes(".")&&xe(n)?n.length-n.indexOf(".")-1:0}function pe(e){var n=String(e);if(we(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Ee()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Ee()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(oe(n))}return K(n).fullStr}function xe(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}function Ue(e){var n=typeof e=="number"?pe(e):K(e).fullStr,t=n.includes(".");return t?K(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var ht=function(){function e(n){if(ze(this,e),this.origin="",this.number=void 0,this.empty=void 0,!n&&n!==0||!String(n).trim()){this.empty=!0;return}this.origin=String(n),this.number=Number(n)}return qe(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var a=Number(t);if(Number.isNaN(a))return this;var i=this.number+a;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var c=Math.max(oe(this.number),oe(a));return new e(i.toFixed(c))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(t==null?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":pe(this.number):this.origin}}]),e}(),Nt=function(){function e(n){if(ze(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,!n&&n!==0||!String(n).trim()){this.empty=!0;return}if(this.origin=String(n),n==="-"){this.nan=!0;return}var t=n;if(we(t)&&(t=Number(t)),t=typeof t=="string"?t:pe(t),xe(t)){var a=K(t);this.negative=a.negative;var i=a.trimStr.split(".");this.integer=BigInt(i[0]);var c=i[1]||"0";this.decimal=BigInt(c),this.decimalLen=c.length}else this.nan=!0}return qe(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var a="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(a)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var a=new e(t);if(a.isInvalidate())return this;var i=Math.max(this.getDecimalStr().length,a.getDecimalStr().length),c=this.alignDecimal(i),p=a.alignDecimal(i),d=(c+p).toString(),h=K(d),N=h.negativeStr,v=h.trimStr,S="".concat(N).concat(v.padStart(i+1,"0"));return new e("".concat(S.slice(0,-i),".").concat(S.slice(-i)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(t==null?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":K("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function x(e){return Ee()?new Nt(e):new ht(e)}function me(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=K(e),c=i.negativeStr,p=i.integerStr,d=i.decimalStr,h="".concat(n).concat(d),N="".concat(c).concat(p);if(t>=0){var v=Number(d[t]);if(v>=5&&!a){var S=x(e).add("".concat(c,"0.").concat("0".repeat(t)).concat(10-v));return me(S.toString(),n,t,a)}return t===0?N:"".concat(N).concat(n).concat(d.padEnd(t,"0").slice(0,t))}return h===".0"?N:"".concat(N).concat(h)}var bt=200,yt=600;function It(e){var n=e.prefixCls,t=e.upNode,a=e.downNode,i=e.upDisabled,c=e.downDisabled,p=e.onStep,d=r.useRef(),h=r.useRef();h.current=p;var N=function(E,M){E.preventDefault(),h.current(M);function V(){h.current(M),d.current=setTimeout(V,bt)}d.current=setTimeout(V,yt)},v=function(){clearTimeout(d.current)};if(r.useEffect(function(){return v},[]),at())return null;var S="".concat(n,"-handler"),b=L(S,"".concat(S,"-up"),g({},"".concat(S,"-up-disabled"),i)),_=L(S,"".concat(S,"-down"),g({},"".concat(S,"-down-disabled"),c)),C={unselectable:"on",role:"button",onMouseUp:v,onMouseLeave:v};return r.createElement("div",{className:"".concat(S,"-wrap")},r.createElement("span",ge({},C,{onMouseDown:function(E){N(E,!0)},"aria-label":"Increase Value","aria-disabled":i,className:b}),t||r.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),r.createElement("span",ge({},C,{onMouseDown:function(E){N(E,!1)},"aria-label":"Decrease Value","aria-disabled":c,className:_}),a||r.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}function Et(e,n){var t=r.useRef(null);function a(){try{var c=e.selectionStart,p=e.selectionEnd,d=e.value,h=d.substring(0,c),N=d.substring(p);t.current={start:c,end:p,value:d,beforeTxt:h,afterTxt:N}}catch{}}function i(){if(e&&t.current&&n)try{var c=e.value,p=t.current,d=p.beforeTxt,h=p.afterTxt,N=p.start,v=c.length;if(c.endsWith(h))v=c.length-t.current.afterTxt.length;else if(c.startsWith(d))v=d.length;else{var S=d[N-1],b=c.indexOf(S,N-1);b!==-1&&(v=b+1)}e.setSelectionRange(v,v)}catch(_){it(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(_.message))}}return[a,i]}const wt=function(){var e=r.useRef(0),n=function(){Fe.cancel(e.current)};return r.useEffect(function(){return n},[]),function(t){n(),e.current=Fe(function(){t()})}};var xt=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Te=function(n,t){return n||t.isEmpty()?t.toString():t.toNumber()},Pe=function(n){var t=x(n);return t.isInvalidate()?null:t},Ke=r.forwardRef(function(e,n){var t,a=e.prefixCls,i=a===void 0?"rc-input-number":a,c=e.className,p=e.style,d=e.min,h=e.max,N=e.step,v=N===void 0?1:N,S=e.defaultValue,b=e.value,_=e.disabled,C=e.readOnly,T=e.upHandler,E=e.downHandler,M=e.keyboard,V=e.controls,le=V===void 0?!0:V,Q=e.stringMode,P=e.parser,q=e.formatter,y=e.precision,$=e.decimalSeparator,l=e.onChange,G=e.onInput,Z=e.onPressEnter,J=e.onStep,ee=ut(e,xt),W="".concat(i,"-input"),j=r.useRef(null),X=r.useState(!1),z=ue(X,2),se=z[0],ce=z[1],D=r.useRef(!1),O=r.useRef(!1),A=r.useRef(!1),Se=r.useState(function(){return x(b??S)}),te=ue(Se,2),m=te[0],B=te[1];function w(o){b===void 0&&B(o)}var ne=r.useCallback(function(o,u){if(!u)return y>=0?y:Math.max(oe(o),oe(v))},[y,v]),F=r.useCallback(function(o){var u=String(o);if(P)return P(u);var f=u;return $&&(f=f.replace($,".")),f.replace(/[^\w.-]+/g,"")},[P,$]),Y=r.useRef(""),re=r.useCallback(function(o,u){if(q)return q(o,{userTyping:u,input:String(Y.current)});var f=typeof o=="number"?pe(o):o;if(!u){var s=ne(f,u);if(xe(f)&&($||s>=0)){var k=$||".";f=me(f,k,s)}}return f},[q,ne,$]),fe=r.useState(function(){var o=S??b;return m.isInvalidate()&&["string","number"].includes(He(o))?Number.isNaN(o)?"":o:re(m.toString(),!1)}),ae=ue(fe,2),H=ae[0],de=ae[1];Y.current=H;function U(o,u){de(re(o.isInvalidate()?o.toString(!1):o.toString(!u),u))}var R=r.useMemo(function(){return Pe(h)},[h,y]),I=r.useMemo(function(){return Pe(d)},[d,y]),Ce=r.useMemo(function(){return!R||!m||m.isInvalidate()?!1:R.lessEquals(m)},[R,m]),De=r.useMemo(function(){return!I||!m||m.isInvalidate()?!1:m.lessEquals(I)},[I,m]),Ge=Et(j.current,se),Re=ue(Ge,2),We=Re[0],je=Re[1],ke=function(u){return R&&!u.lessEquals(R)?R:I&&!I.lessEquals(u)?I:null},he=function(u){return!ke(u)},Ne=function(u,f){var s=u,k=he(s)||s.isEmpty();if(!s.isEmpty()&&!f&&(s=ke(s)||s,k=!0),!C&&!_&&k){var ie=s.toString(),be=ne(ie,f);return be>=0&&(s=x(me(ie,".",be)),he(s)||(s=x(me(ie,".",be,!0)))),s.equals(m)||(w(s),l==null||l(s.isEmpty()?null:Te(Q,s)),b===void 0&&U(s,f)),s}return m},Xe=wt(),_e=function o(u){if(We(),de(u),!O.current){var f=F(u),s=x(f);s.isNaN()||Ne(s,!0)}G==null||G(u),Xe(function(){var k=u;P||(k=u.replace(/。/g,".")),k!==u&&o(k)})},Ye=function(){O.current=!0},Qe=function(){O.current=!1,_e(j.current.value)},Ze=function(u){_e(u.target.value)},Me=function(u){var f;if(!(u&&Ce||!u&&De)){D.current=!1;var s=x(A.current?Ue(v):v);u||(s=s.negate());var k=(m||x(0)).add(s.toString()),ie=Ne(k,!1);J==null||J(Te(Q,ie),{offset:A.current?Ue(v):v,type:u?"up":"down"}),(f=j.current)===null||f===void 0||f.focus()}},Ve=function(u){var f=x(F(H)),s=f;f.isNaN()?s=m:s=Ne(f,u),b!==void 0?U(m,!1):s.isNaN()||U(s,!1)},Je=function(){D.current=!0},et=function(u){var f=u.which,s=u.shiftKey;D.current=!0,s?A.current=!0:A.current=!1,f===ve.ENTER&&(O.current||(D.current=!1),Ve(!1),Z==null||Z(u)),M!==!1&&!O.current&&[ve.UP,ve.DOWN].includes(f)&&(Me(ve.UP===f),u.preventDefault())},tt=function(){D.current=!1,A.current=!1},nt=function(){Ve(!1),ce(!1),D.current=!1};return ye(function(){m.isInvalidate()||U(m,!1)},[y]),ye(function(){var o=x(b);B(o);var u=x(F(H));(!o.equals(u)||!D.current||q)&&U(o,D.current)},[b]),ye(function(){q&&je()},[H]),r.createElement("div",{className:L(i,c,(t={},g(t,"".concat(i,"-focused"),se),g(t,"".concat(i,"-disabled"),_),g(t,"".concat(i,"-readonly"),C),g(t,"".concat(i,"-not-a-number"),m.isNaN()),g(t,"".concat(i,"-out-of-range"),!m.isInvalidate()&&!he(m)),t)),style:p,onFocus:function(){ce(!0)},onBlur:nt,onKeyDown:et,onKeyUp:tt,onCompositionStart:Ye,onCompositionEnd:Qe,onBeforeInput:Je},le&&r.createElement(It,{prefixCls:i,upNode:T,downNode:E,upDisabled:Ce,downDisabled:De,onStep:Me}),r.createElement("div",{className:"".concat(W,"-wrap")},r.createElement("input",ge({autoComplete:"off",role:"spinbutton","aria-valuemin":d,"aria-valuemax":h,"aria-valuenow":m.isInvalidate()?null:m.toString(),step:v},ee,{ref:ot(j,n),className:W,value:H,onChange:Ze,disabled:_,readOnly:C}))))});Ke.displayName="InputNumber";var Ct=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]]);return t},Dt=r.forwardRef(function(e,n){var t,a=r.useContext(lt),i=a.getPrefixCls,c=a.direction,p=r.useContext(st),d=r.useState(!1),h=ue(d,2),N=h[0],v=h[1],S=r.useRef(null);r.useImperativeHandle(n,function(){return S.current});var b=e.className,_=e.size,C=e.disabled,T=e.prefixCls,E=e.addonBefore,M=e.addonAfter,V=e.prefix,le=e.bordered,Q=le===void 0?!0:le,P=e.readOnly,q=e.status,y=e.controls,$=Ct(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),l=i("input-number",T),G=ct(l,c),Z=G.compactSize,J=G.compactItemClassnames,ee=r.createElement(St,{className:"".concat(l,"-handler-up-inner")}),W=r.createElement(vt,{className:"".concat(l,"-handler-down-inner")}),j=typeof y=="boolean"?y:void 0;He(y)==="object"&&(ee=typeof y.upIcon>"u"?ee:r.createElement("span",{className:"".concat(l,"-handler-up-inner")},y.upIcon),W=typeof y.downIcon>"u"?W:r.createElement("span",{className:"".concat(l,"-handler-down-inner")},y.downIcon));var X=r.useContext(ft),z=X.hasFeedback,se=X.status,ce=X.isFormItemInput,D=X.feedbackIcon,O=mt(se,q),A=Z||_||p,Se=r.useContext(dt),te=C??Se,m=L((t={},g(t,"".concat(l,"-lg"),A==="large"),g(t,"".concat(l,"-sm"),A==="small"),g(t,"".concat(l,"-rtl"),c==="rtl"),g(t,"".concat(l,"-borderless"),!Q),g(t,"".concat(l,"-in-form-item"),ce),t),Ie(l,O),J,b),B=r.createElement(Ke,ge({ref:S,disabled:te,className:m,upHandler:ee,downHandler:W,prefixCls:l,readOnly:P,controls:j},$));if(V!=null||z){var w,ne=L("".concat(l,"-affix-wrapper"),Ie("".concat(l,"-affix-wrapper"),O,z),(w={},g(w,"".concat(l,"-affix-wrapper-focused"),N),g(w,"".concat(l,"-affix-wrapper-disabled"),e.disabled),g(w,"".concat(l,"-affix-wrapper-sm"),p==="small"),g(w,"".concat(l,"-affix-wrapper-lg"),p==="large"),g(w,"".concat(l,"-affix-wrapper-rtl"),c==="rtl"),g(w,"".concat(l,"-affix-wrapper-readonly"),P),g(w,"".concat(l,"-affix-wrapper-borderless"),!Q),g(w,"".concat(b),!(E||M)&&b),w));B=r.createElement("div",{className:ne,style:e.style,onMouseUp:function(){return S.current.focus()}},V&&r.createElement("span",{className:"".concat(l,"-prefix")},V),$e(B,{style:null,value:e.value,onFocus:function(R){var I;v(!0),(I=e.onFocus)===null||I===void 0||I.call(e,R)},onBlur:function(R){var I;v(!1),(I=e.onBlur)===null||I===void 0||I.call(e,R)}}),z&&r.createElement("span",{className:"".concat(l,"-suffix")},D))}if(E!=null||M!=null){var F,Y="".concat(l,"-group"),re="".concat(Y,"-addon"),fe=E?r.createElement("div",{className:re},E):null,ae=M?r.createElement("div",{className:re},M):null,H=L("".concat(l,"-wrapper"),Y,g({},"".concat(Y,"-rtl"),c==="rtl")),de=L("".concat(l,"-group-wrapper"),(F={},g(F,"".concat(l,"-group-wrapper-sm"),p==="small"),g(F,"".concat(l,"-group-wrapper-lg"),p==="large"),g(F,"".concat(l,"-group-wrapper-rtl"),c==="rtl"),F),Ie("".concat(l,"-group-wrapper"),O,z),b);B=r.createElement("div",{className:de,style:e.style},r.createElement("div",{className:H},fe&&r.createElement(Ae,null,r.createElement(Be,{status:!0,override:!0},fe)),$e(B,{style:null,disabled:te}),ae&&r.createElement(Ae,null,r.createElement(Be,{status:!0,override:!0},ae))))}return B});const _t=Dt;export{_t as I};
